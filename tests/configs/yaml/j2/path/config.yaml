---
templatingEngine: Jinja2
services:
- comment: Mock for Service1
  port: 8001
  endpoints:
  - path: "/parameterized1/text/{{intoVar}}/subval"
    response: 'intoVar capture: {{intoVar}}'
  - path: "/parameterized1/template-file/{{intoVar}}/subval"
    response:
      fromFile: tests/configs/yaml/j2/path/templates/1.yaml.j2
  - path: "/parameterized1/text/staticVal/subval"
    response: static path components have priority
  - path: "/parameterized2/text/{{regEx('prefix-.*')}}/subval"
    response: 'regex match: {{request.path}}'
  - path: "/parameterized2/template-file/{{regEx('prefix-.*')}}/subval"
    response:
      fromFile: tests/configs/yaml/j2/path/templates/2.yaml.j2
  - path: "/parameterized1/text/{{regEx('prefix2-([^/]+)', 'varname')}}/subval2"
    response: 'regex capture group: {{varname}}'
  - path: "/parameterized1/template-file/{{regEx('prefix2-([^/]+)', 'varname')}}/subval2"
    response:
      fromFile: tests/configs/yaml/j2/path/templates/3.yaml.j2
